<template id="tpl">
  <style>
    :host([hidden]) { display: none; }
    :host {
      font: inherit;
      border: 0;
      background-color: transparent;
      cursor: pointer;
      padding: 0;
    }
    :host::-moz-focus-inner {
      padding: 0;
      border: 0;
    }

    :host([disabled]) {
      opacity: 0.7;
      cursor: default;
      pointer-events: none;
    }

    :host(:focus) > span {
      box-shadow: var(--k-buton-focus-box-shadow, 0 0 0 2px rgb(35, 189, 234));
      @apply --k-button-focus;
    }

    :host(:active) > span,
    :host(:hover) > span {
      background-color: var(--k-button-hover-active-background-color, #cc0248);
      @apply --k-button-hover-active;
    }

    :host > span {
      position: relative;
      display: block;
      padding: var(--k-button-padding, 15px 20px);
      background-color: var(--k-button-background-color, #ff0059);
      border-radius: var(--k-button-border-radius, 2px);
      min-width: var(--k-button-min-width, 60px);
      @apply --k-button;
    }

    :host(:not(:-moz-focusring):focus) > span {
      box-shadow: none;
    }

    :host(:focus),
    :host > span:focus {
      outline: none;
    }

    /* :host not supported */
    [is="k-button"][hidden] { display: none; }
    [is="k-button"] { font: inherit; border: 0; background-color: transparent; cursor: pointer; padding: 0; }
    [is="k-button"]::-moz-focus-inner { padding: 0; border: 0; }
    [is="k-button"][disabled] { opacity: 0.7; cursor: default; pointer-events: none; }
    [is="k-button"]:focus > span { box-shadow: var(--k-buton-focus-box-shadow, 0 0 0 2px rgb(35, 189, 234)); @apply --k-button-focus; }
    [is="k-button"]:active > span, button[is="k-button"]:hover > span { background-color: var(--k-button-hover-active-background-color, #cc0248); @apply --k-button-hover-active; }
    [is="k-button"] > span { position: relative; display: block; padding: var(--k-button-padding, 15px 20px); background-color: var(--k-button-background-color, #ff0059); border-radius: var(--k-button-border-radius, 2px); min-width: var(--k-button-min-width, 60px); @apply --k-button; }
    [is="k-button"]:not(:-moz-focusring):focus > span { box-shadow: none; }
    [is="k-button"]:focus, button[is="k-button"] > span:focus { outline: none; }
  </style>

  <span tabindex="-1">
    <content></content>
  </span>
</template>

<script>
  (function() {
    var importDoc = document._currentScript ? document._currentScript.ownerDocument : document.currentScript.ownerDocument;
    var KButton = Object.create(HTMLButtonElement.prototype, {
      createdCallback: {
        value: function() {
          var tpl = importDoc.querySelector('#tpl').content;
          var shadowRoot = this.createShadowRoot();
          var instance = shadowRoot.appendChild(tpl.cloneNode(true));
        }
      }
    });

    document.registerElement('k-button', {prototype: KButton, extends: 'button'});
  }());
</script>